Tools for working the American Community Survey.

The Census Bureau provides ACS data in machine readable ASCII (text) files. The
5 year estimates can be downloaded state by state or in one giant file.  The
giant file is actually broken into two parts, one containing estimates for block
groups and tracts only and the other containing everything else.  Since block
groups are mostly what I want to experiment with this makes life a little
easier. http://www2.census.gov/acs2010_5yr/summaryfile/2006-2010_ACSSF_All_In_2_Giant_Files(Experienced-Users-Only)/Tracts_Block_Groups_Only.zip


The ~3gb "Tracts_Block_Groups_Only.zip" file  

>>> import numpy
>>> import pyACS
>>> table = pyACS.ACS(pyACS.sumlevel.TRACT)
>>> len(table)
74002
>>> c = table['B19013001'] # Median Household Income
>>> c = numpy.nan_to_num(c)
>>> round(c.mean())
54404.0
>>> numpy.median(c)
49028.0


But first you need to install the data....
$ mkdir /pyacs
$ cd /pyacs
$ wget "http://www2.census.gov/acs2011_5yr/summaryfile/2007-2011_ACSSF_All_In_2_Giant_Files(Experienced-Users-Only)/Tracts_Block_Groups_Only.tar.gz"
$ tar xfz Tracts_Block_Groups_Only.tar.gz
$ mv group2 SUMFILE

Now get the GEO files...
$ wget "http://www2.census.gov/acs2011_5yr/summaryfile/2007-2011_ACSSF_All_In_2_Giant_Files(Experienced-Users-Only)/2011_ACS_Geography_Files.zip"
$ unzip 2011_ACS_Geography_Files.zip
$ mv geog GEO


*File structure of downloaded ACS census data* `$ ls /pyacs`
  column_lookup.csv
  table_restrictions.csv
  
  /SUMFILE # each state has estimates and error file sets of 113 sequences or chuncks of text files

  # These "e.....txt" files contain estimates 
  # and are named using this schema:
  # <estimate><year><periodicity><state><sequence#><iterationID>.txt  notes:
  # iterationID is usually 000

      e20115tx0001000.txt...e20115tx0113000.txt

  #These files are Error margins for the associated estimates. 

      m20115tx0001000.txt...m20115tx0113000.txt
      
  /GEO # Fips codes and names of different geographic areas per state
      g20115ak.csv	
      g20115de.csv	
      g20115ks.csv
      etc...

    
Example line from e20115ky0037000.txt:      
      
      ACSSF,2011e5,ky,000,0037,0003975,535,461,164,70,50,44,297,74,28,10,0,10,0,18,46,8,0,0,8,38,647,182,182,164,18,10,8,0,0,0,465,353,297,56,18,38,112,70,42,647,254,197,153,44,18,26,57,393,338,308,30,10,20,55,647,208,57,151,151,0,439,55,384,384,0,647,10,0,10,0,0,637,112,70,70,34,36,0,0,0,42,42,21,21,0,0,0,647,535,461,403,0,58,74,28,28,0,0,46,34,0,12,112,97,0,15,647,535,461,407,54,74,28,0,28,46,34,12,112,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,647,28,619,647,535,263,152,74,16,0,30,112,112,0,0,0,0,0,0
      
